jQuery.dialog=function(c,r){return function(i){function n(b,e){if(j)return g;var d=c(a.con+" ."+a.contentCls);if(null==b)return d;var k=c("<div></div>",{"class":a.barCls}).html(b);"number"==typeof e&&0<e&&(e={"padding-top":e+"px","padding-bottom":e+"px"});null!=e&&k.css(e);d.append(k);return g}function m(){if(j)return g;c(a.con+"_bg, "+a.con).hide();return g}function o(){c(a.con+" input, "+a.con+" textarea").removeAttr("disabled");j=!1;return g}function f(b,e){var d=!1;if(1<b)d=e?b:b+"px";else if(0<
b){d=0;if("width"==e||"left"==e)d=c(a.con).parent().width();else if("height"==e||"top"==e)d=c(a.con).parent().height();d=e?b*d:100*b+"%"}else 0===b&&(d=e?r:"auto");return d}var g={init:function(){var b=c("<div></div>",{"class":a.titleCls});b.append(c("<label></label>"));b.append(c("<a></a>").html(a.closeText));var e=c("<div></div>",{"class":a.contentCls}),d=c("<div></div>",{"class":a.bottomCls});d.append(c("<div></div>",{"class":a.tipCls}));0==c(a.con).length&&c("body").append(c("<div></div>").attr("id",
a.con.slice(1)));c(a.con).css({position:a.fix?"fixed":"absolute",display:"none","z-index":"10001",top:f(a.top),left:f(a.left),width:f(a.width),height:f(a.height)}).addClass(a.holderCls).html(b).append(e).append(d).find("."+a.titleCls+" a").click(m);0==c(a.con+"_bg").length&&c("body").append(c("<div></div>",{"class":a.bgCls,id:a.con.slice(1)+"_bg"}).css("z-index","10000"));b=0-0.5*c(a.con).width()+"px";c(a.con).css("margin-left",b);if(a.drag){var k=!1,p=0,q=0,i=0,h=0,l=c(a.con);l.find("."+a.titleCls).css("cursor",
"move").mouseup(function(){k=!1;h=i=0;l.removeClass(a.unselectCls)}).mousedown(function(b){k=!0;p=b.pageX;q=b.pageY;i=l.position().left;h=l.position().top;l.addClass(a.unselectCls)});c("body").mousemove(function(b){if(!j){if(k){var d=b.pageY-q+h,e=b.pageX-p+i;a.fix&&(e-=c(window).scrollLeft(),d-=c(window).scrollTop());l.css({left:e+"px",top:d+"px"})}b.originalEvent&&b.originalEvent.preventDefault&&b.originalEvent.preventDefault()}})}return g},title:function(b){if(j)return g;c(a.con).find("."+a.titleCls+
" label").html(b);return g},content:n,input:function(a,e,d,k){if(j)return g;"object"!==typeof a&&(a={id:a});var f="text";"password"==a.id&&(f=a.id);f='<input type="'+f+'">';d&&(f="<textarea></textarea>");d=c(f).attr(a);null!=e&&(d=c("<label></label>",{"for":a.id}).html(e).add(d));n(d);c("#"+a.id).keyup(function(a){a.which==13&&k.call(this)});return g},tip:function(b){if(j)return g;if(null==b)return c(a.con).find("."+a.bottomCls).find("."+a.tipCls);c(a.con).find("."+a.bottomCls).find("."+a.tipCls).html(b);
return g},button:function(b,e){if(j)return g;h++;var d={name:"\u786e\u5b9a",cls:a.buttonCls,id:"",events:m};"function"==typeof b?d.events=b:"string"==typeof b?(d.name=b,"function"==typeof e&&(d.events=e)):"object"==typeof b&&(d=c.extend(d,b));var f={"class":a.buttonCls+"_"+h+" "+d.cls};""!=d.id&&(f.id=d.id);f=c(a.con).find("."+a.bottomCls).append(c("<a></a>",f).html(d.name)).find("."+a.buttonCls+"_"+h);"string"==typeof d.events?f.attr("href",d.events):f.click(d.events);return g},show:function(){if(j)return g;
var b=c(a.con).show(),e=c(a.con+"_bg").show();a.bgClsClose&&e.click(m);b.find("."+a.contentCls).find("textarea, input").focus();return g},hide:m,clear:function(){if(j)return g;c(a.con).find("."+a.titleCls+" label").empty();c(a.con).find("."+a.contentCls).empty();c(a.con).find("."+a.buttonCls).detach();h=0;return g},lock:function(){c(a.con+" input, "+a.con+" textarea").attr("disabled","disabled");j=!0;return g},unlock:o,size:function(b,e,d,k,i,h){if(j)return g;c.isArray(b)&&(e=b[1],d=b[2],k=b[3],i=
b[4],h=b[5],b=b[0]);a.width=null==b?a.width:b;a.height=null==e?a.height:e;a.top=null==d?a.top:d;a.left=null==k?a.left:k;null==h&&(h=o);null==i?(c(a.con).css({width:f(a.width),height:f(a.height),top:f(a.top),left:f(a.left)}),h.call(this)):(0==a.height&&(_temp=c(a.con).clone().appendTo(c(a.con).parent()).css("height","auto"),a.height=_temp.height(),_temp.detach()),c(a.con).animate({width:f(a.width,"width"),height:f(a.height,"height"),top:f(a.top,"top"),left:f(a.left,"left")},i,h));return g}},a={con:"#dialog",
bgCls:"dialog-bg",holderCls:"dialog",titleCls:"dialog-title",contentCls:"dialog-content",barCls:"dialog-bar",bottomCls:"dialog-bottom",buttonCls:"dialog-button",tipCls:"dialog-tip",unselectCls:"unselect",closeText:"\u00d7",bgClose:!0,drag:!0,fix:!0,width:360,height:0,top:150,left:0.5},h=0,j=!1;switch(typeof i){case "number":a.top=i;break;case "string":a.con=i;break;case "object":a=c.extend(a,i)}return g}}(jQuery);
